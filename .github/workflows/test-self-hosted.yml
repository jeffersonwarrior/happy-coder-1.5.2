name: Test Self-hosted Runner

on:
  workflow_dispatch:

jobs:
  test-runner:
    runs-on: ubuntu-self-hosted
    steps:
    - name: Test runner setup
      run: |
        echo "🏃 Testing self-hosted runner!"
        echo "Host: $(hostname)"
        echo "User: $(whoami)"
        echo "OS: $(cat /etc/os-release | grep PRETTY_NAME)"
        echo "CPU cores: $(nproc)"
        echo "Memory: $(free -h | grep Mem)"
        echo "Disk space: $(df -h | grep '/$')"
        echo ""
        echo "🔧 Build tools:"
        echo "Node.js: $(node --version)"
        echo "npm: $(npm --version)"
        echo "Rust: $(rustc --version)"
        echo "Cargo: $(cargo --version)"
        echo "Git: $(git --version)"
        echo ""
        echo "📦 Tauri dependencies:"
        dpkg -l | grep -E "(libgtk-3|webkit2gtk|appindicator|librsvg)" | head -5
        echo ""
        echo "✅ Self-hosted runner is working!"